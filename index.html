<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Chat Sederhana mirip WhatsApp</title>
<style>
  :root{
    --bg:#ece5dd; --panel:#ffffff; --accent:#25D366; --me:#dcf8c6; --bot:#ffffff;
    --text:#111;
    font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{height:100%;margin:0;background:var(--bg);color:var(--text)}
  .app{
    max-width:420px;margin:24px auto;height:86vh;display:flex;flex-direction:column;
    border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.12);overflow:hidden;background:var(--panel)
  }
  /* header */
  .header{display:flex;align-items:center;gap:12px;padding:12px 14px;border-bottom:1px solid rgba(0,0,0,.06)}
  .avatar{width:44px;height:44px;border-radius:50%;background:linear-gradient(135deg,#9ee7c5,#2bb673);display:inline-block}
  .title{font-weight:600}
  .subtitle{font-size:12px;color:#555}
  /* messages area */
  .messages{flex:1;padding:14px;overflow:auto;display:flex;flex-direction:column;gap:10px;background:
    linear-gradient(180deg, rgba(0,0,0,0.01), transparent)}
  .msg{max-width:78%;padding:10px 12px;border-radius:14px;line-height:1.3;box-shadow:0 1px 0 rgba(0,0,0,.03)}
  .msg.bot{align-self:flex-start;background:var(--bot);border-top-left-radius:4px}
  .msg.me{align-self:flex-end;background:var(--me);border-top-right-radius:4px}
  .meta{font-size:11px;color:#666;margin-top:6px;text-align:right}
  /* input area */
  .composer{display:flex;padding:10px;border-top:1px solid rgba(0,0,0,.06);gap:8px;align-items:center}
  .composer input{flex:1;padding:10px 12px;border-radius:999px;border:1px solid rgba(0,0,0,.06);outline:none;font-size:14px}
  .btn{background:var(--accent);border:none;color:#fff;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:600}
  .btn:active{transform:translateY(1px)}
  /* small screens tweak */
  @media (max-width:420px){ .app{margin:8px;height:92vh;border-radius:8px} }
</style>
</head>
<body>
<div class="app" role="application" aria-label="Chat sederhana">
  <div class="header">
    <div class="avatar" aria-hidden="true"></div>
    <div>
      <div class="title">ChatBot Sederhana</div>
      <div class="subtitle">Online</div>
    </div>
  </div>

  <div class="messages" id="messages" aria-live="polite"></div>

  <form id="composer" class="composer" onsubmit="return false" autocomplete="off">
    <input id="input" type="text" placeholder="Tulis pesan..." aria-label="Tulis pesan" />
    <button type="submit" id="send" class="btn" aria-label="Kirim">KIRIM</button>
  </form>
</div>

<script>
  // Simple rule-based Q&A bot. Tambah kata kunci dan jawaban sesuai kebutuhan.
  const rules = [
    {q: ['halo','hi','hai'], a: 'Halo! Ada yang bisa saya bantu?'},
    {q: ['siapa kamu','siapa kamu?','kamu siapa'], a: 'Saya bot sederhana yang dibuat untuk demo tanya jawab.'},
    {q: ['cara pakai','cara menggunakan','bagaimana pakai'], a: 'Ketik pertanyaanmu lalu tekan KIRIM. Saya akan jawab berdasarkan kata kunci sederhana.'},
    {q: ['terima kasih','makasih','thanks'], a: 'Sama-sama.'},
    {q: ['waktu','jam','sekarang jam berapa'], a: () => 'Sekarang pukul ' + new Date().toLocaleTimeString() }
  ];

  const messagesEl = document.getElementById('messages');
  const inputEl = document.getElementById('input');
  const form = document.getElementById('composer');

  // helper: create message bubble
  function addMessage(text, who='bot'){
    const div = document.createElement('div');
    div.className = 'msg ' + (who === 'me' ? 'me' : 'bot');
    div.textContent = text;
    messagesEl.appendChild(div);
    messagesEl.scrollTop = messagesEl.scrollHeight;
  }

  // initial greeting
  addMessage('Hai, saya siap menjawab. Coba ketik "halo" atau tanyakan sesuatu.', 'bot');

  // process input and respond
  function respond(raw){
    const txt = raw.trim();
    if(!txt) return;
    addMessage(txt, 'me');

    // normalize for matching
    const lower = txt.toLowerCase();
    // find rule
    for(const r of rules){
      for(const k of r.q){
        if(lower.includes(k)){
          const ans = typeof r.a === 'function' ? r.a() : r.a;
          // small simulated delay
          setTimeout(()=> addMessage(ans,'bot'), 350);
          return;
        }
      }
    }

    // fallback
    setTimeout(()=> addMessage('Maaf, saya belum mengerti. Coba kata kunci lain atau tanya "cara pakai".','bot'), 350);
  }

  // events
  form.addEventListener('submit', ()=>{
    respond(inputEl.value);
    inputEl.value = '';
    inputEl.focus();
  });

  // send on Enter, allow Shift+Enter for newline (not typical chat, but just in case)
  inputEl.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' && !e.shiftKey){
      e.preventDefault();
      form.dispatchEvent(new Event('submit'));
    }
  });

  // accessibility: focus input on load
  window.addEventListener('load', ()=> inputEl.focus());
</script>
</body>
</html>
